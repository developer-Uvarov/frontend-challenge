(function(){"use strict";var t={544:function(t,e,a){var n=a(9242),i=a(2644),r=a(1897),o=a(3396);const s={class:"page container"};function c(t,e,a,n,i,r){const c=(0,o.up)("custom-navbar"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c),(0,o._)("div",s,[(0,o.Wm)(u)])])}const u={class:"header"},v={class:"container header__nav"};function d(t,e,a,n,i,r){return(0,o.wg)(),(0,o.iD)("section",u,[(0,o._)("div",v,[(0,o._)("div",{class:"header__nav-btn",onClick:e[0]||(e[0]=e=>t.$router.push("/"))},"Все котики"),(0,o._)("div",{class:"header__nav-btn",onClick:e[1]||(e[1]=e=>t.$router.push("/favourites"))},"Любимые котики")])])}var l={name:"CustomNavbar"},f=a(89);const m=(0,f.Z)(l,[["render",d],["__scopeId","data-v-d115553c"]]);var g=m,p={components:{CustomNavbar:g}};const h=(0,f.Z)(p,[["render",c]]);var C=h,_=a(678);const k={class:"favourites-page"};function b(t,e,a,n,i,r){const s=(0,o.up)("images-list");return(0,o.wg)(),(0,o.iD)("div",k,[(0,o.Wm)(s,{cats:i.favouriteCats,"favourite-cats":i.favouriteCats,onOnChange:r.updateFavouriteCats},null,8,["cats","favourite-cats","onOnChange"])])}function y(t,e,a,i,r,s){const c=(0,o.up)("image-card");return(0,o.wg)(),(0,o.j4)(n.W3,{class:"image-list",tag:"div",name:"cards"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.cats,(t=>((0,o.wg)(),(0,o.j4)(c,{key:t.id,onOnLike:s.addToFavourites,onOnDislike:s.deleteFromFavourites,cat:t,isLiked:s.checkLike(t),class:"image-list__item"},null,8,["onOnLike","onOnDislike","cat","isLiked"])))),128))])),_:1})}var O=a(7139);const w={class:"image-card"},L={class:"image-card__image"},F={class:"image-card__footer"};function I(t,e,a,n,i,r){const s=(0,o.Q2)("lazy");return(0,o.wg)(),(0,o.iD)("div",w,[(0,o.wy)((0,o._)("img",L,null,512),[[s,{src:a.cat.url}]]),(0,o._)("div",F,[(0,o._)("div",{class:(0,O.C_)([{"image-card__like--active":a.isLiked},"image-card__like"]),onClick:e[0]||(e[0]=t=>r.onLikeClick(a.cat))},null,2)])])}var D={name:"ImageCard",emits:["onLike","onDislike"],props:{cat:{required:!0,type:Object},isLiked:{default:!1,type:Boolean}},methods:{onLikeClick(t){this.isLiked?this.$emit("onDislike",t):this.$emit("onLike",t)}}};const S=(0,f.Z)(D,[["render",I],["__scopeId","data-v-7b105e12"]]);var j=S,Z={name:"ImagesList",emits:["onChange"],components:{ImageCard:j},props:{cats:{type:Array,required:!0},favouriteCats:{type:Array,required:!0}},methods:{addToFavourites(t){const e=[...this.favouriteCats];e.push(t),this.$emit("onChange",e)},deleteFromFavourites(t){const e=[...this.favouriteCats],a=e.findIndex((({id:e})=>e===t.id));e.splice(a,1),this.$emit("onChange",e)},checkLike(t){return this.favouriteCats.some((({id:e})=>e===t.id))}}};const x=(0,f.Z)(Z,[["render",y],["__scopeId","data-v-bc1f5b18"]]);var M=x,N={name:"FavouritesPage",components:{ImagesList:M},data(){return{favouriteCats:[]}},mounted(){this.favouriteCats=localStorage.favouriteCats?JSON.parse(localStorage.favouriteCats):[]},methods:{updateFavouriteCats(t){this.favouriteCats=t,localStorage.favouriteCats=JSON.stringify(this.favouriteCats)}}};const $=(0,f.Z)(N,[["render",b]]);var P=$;const W=t=>((0,o.dD)("data-v-8379683e"),t=t(),(0,o.Cn)(),t),J={class:"main-page"},T=W((()=>(0,o._)("div",{class:"main-page__loader"},"... загружаем еще котиков ... ",-1))),q={ref:"observer"};function A(t,e,a,n,i,r){const s=(0,o.up)("images-list"),c=(0,o.Q2)("infinity-scroll");return(0,o.wg)(),(0,o.iD)("div",J,[(0,o.Wm)(s,{cats:i.cats,favouriteCats:i.favouriteCats,onOnChange:r.updateFavouriteCats},null,8,["cats","favouriteCats","onOnChange"]),T,(0,o.wy)((0,o._)("div",q,null,512),[[c,r.getMoreCats]])])}var Q=a(6265),z=a.n(Q);const B=z().create({baseURL:"https://api.thecatapi.com/v1/images/search"});var E=B;const H={moreCats:async()=>{try{return await E.get("",{params:{api_key:"4d2b5ad6-e7a1-420c-8f3b-02e1cb11dc72",limit:20}})}catch(t){console.log(t)}}};var K={name:"MainPage",components:{ImagesList:M},data(){return{cats:[],favouriteCats:[],limit:20}},mounted(){this.getMoreCats(),this.favouriteCats=localStorage.favouriteCats?JSON.parse(localStorage.favouriteCats):[]},methods:{updateFavouriteCats(t){this.favouriteCats=t,localStorage.favouriteCats=JSON.stringify(this.favouriteCats)},async getMoreCats(){const t=await H.moreCats();this.cats=[...this.cats,...t.data]}}};const R=(0,f.Z)(K,[["render",A],["__scopeId","data-v-8379683e"]]);var U=R;const Y=[{path:"/",component:U},{path:"/favourites",component:P}],G=(0,_.p7)({routes:Y,history:(0,_.PO)("/frontend-challenge/")});var V=G,X={mounted(t,e){const a=t=>{t[0].isIntersecting&&e.value()},n=new IntersectionObserver(a,{rootMargin:"0px",threshold:1});n.observe(t)}};const tt=(0,n.ri)(C);tt.use(V).use(i.Z).use(r.Z).directive("infinity-scroll",X).mount("#app")}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,i,r){if(!n){var o=1/0;for(v=0;v<t.length;v++){n=t[v][0],i=t[v][1],r=t[v][2];for(var s=!0,c=0;c<n.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(s=!1,r<o&&(o=r));if(s){t.splice(v--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var v=t.length;v>0&&t[v-1][2]>r;v--)t[v]=t[v-1];t[v]=[n,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,o=n[0],s=n[1],c=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var v=c(a)}for(e&&e(n);u<o.length;u++)r=o[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(v)},n=self["webpackChunkcats_test"]=self["webpackChunkcats_test"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(544)}));n=a.O(n)})();
//# sourceMappingURL=app.2bbcae37.js.map